import{c as f,u as N,r as b,a as L,j as s,P as w,N as k}from"./index-B8S532Nu.js";import{P as y}from"./PostCard-CIfNMotc.js";import{u as S}from"./usePosts-DJuT0Ftm.js";import{C as T}from"./chevron-left-BIrlVwMu.js";const _=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],M=f("chevron-right",_),D=()=>{const{slug:x}=N(),[u,P]=b.useState(1),j=10,{data:v=[],isLoading:h}=L(),n=v.find(a=>a.name.toLowerCase()===x),m=n?.id,{data:i,isLoading:r}=S({category_id:m,page:u,per_page:j});if((h||m&&r)&&!r)return s.jsx(w,{message:"Đang định vị tọa độ không gian..."});if(!h&&!n)return s.jsx(k,{to:"/404",replace:!0});const c=i?.data||[],t=i?.last_page||1,e=i?.current_page||1,C=()=>{const a=[];let o=Math.max(1,e-Math.floor(2.5)),d=Math.min(t,o+5-1);d-o<4&&(o=Math.max(1,d-5+1));for(let l=o;l<=d;l++)a.push(l);return a},g=a=>{a>=1&&a<=t&&(P(a),window.scrollTo({top:0,behavior:"smooth"}))};return s.jsxs("div",{className:"category-container",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"glitch-title",children:n?.name.toUpperCase()}),s.jsx("div",{className:"title-underline"})]}),s.jsx("div",{className:"post-grid-aerospace",children:c?.map((a,p)=>s.jsx(y,{post:a,index:p},a.id))}),c.length===0&&!r&&s.jsx("div",{className:"no-data",children:s.jsx("p",{children:"Chưa có dữ liệu bài viết trong vùng không gian này."})}),c.length>0&&t>1&&s.jsxs("div",{className:"pagination-space",children:[s.jsx("button",{className:"page-btn",onClick:()=>g(e-1),disabled:e===1,children:s.jsx(T,{size:16})}),C().map(a=>s.jsx("button",{className:`page-btn ${e===a?"active":""}`,onClick:()=>g(a),children:a},a)),s.jsx("button",{className:"page-btn",onClick:()=>g(e+1),disabled:e===t,children:s.jsx(M,{size:16})})]})]})};export{D as default};
